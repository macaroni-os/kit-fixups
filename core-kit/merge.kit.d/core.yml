sources:
- name: "core-kit"
  url: "https://github.com/macaroni-os/core-kit"
  branch: "mark-testing"
  #commit_sha1: "1456ea54c3efae418e8de419af2ea1b66ab2cbaa"

- name: "core-server-kit"
  url: "https://github.com/macaroni-os/core-server-kit"
  branch: "mark-testing"

- name: "perl-kit"
  url: "https://github.com/macaroni-os/perl-kit"
  branch: "mark-testing"

- name: "python-kit"
  url: "https://github.com/macaroni-os/python-kit"
  branch: "mark-testing"

- name: "python-modules-kit"
  url: "https://github.com/macaroni-os/python-modules-kit"
  branch: "mark-testing"

- name: "security-kit"
  url: "https://github.com/macaroni-os/security-kit"
  branch: "mark-testing"

target:
  name: core-kit
  url: "https://github.com/macaroni-os/core-kit"
  branch: mark-xl
  eclasses:
    include:
      core-kit:
        # Regex rules for match eclasses
        - '.*'

  fixups:
    include:
      - dir: ../../static/licenses
        to: licenses

      - file: ../../static/LICENSE.txt
        to: LICENSE.txt

  atoms_defaults:
    max_versions: 3

  atoms:
    - pkg: sys-devel/gcc:12.3.0
    - pkg: sys-libs/glibc:2.2
      conditions:
        - '>=sys-libs/glibc-2.33-r4:2.2'
    - pkg: sys-devel/binutils:2.40
    - pkg: sys-libs/binutils-libs

    - pkg: app-arch/bzip2
    - pkg: app-arch/gzip
    - pkg: app-arch/tar
    - pkg: app-arch/unzip
    - pkg: app-arch/xz-utils
    - pkg: app-arch/zstd

    - pkg: app-misc/ca-certificates
    - pkg: app-misc/mime-types

    - pkg: app-shells/bash

    - pkg: dev-libs/libxml2:2
    - pkg: dev-libs/libpcre
    - pkg: dev-libs/elfutils
    - pkg: dev-libs/expat
    - pkg: dev-libs/gmp
    - pkg: dev-libs/icu

    # Python dep
    - pkg: dev-libs/libffi

    - pkg: dev-libs/libltdl
    - pkg: dev-libs/libpcre2

    - pkg: dev-libs/libidn2

    - pkg: sys-apps/acl
    - pkg: sys-apps/attr
    - pkg: sys-apps/coreutils
    - pkg: sys-apps/debianutils
    - pkg: sys-apps/diffutils
    - pkg: sys-apps/file
    - pkg: sys-apps/findutils
    - pkg: sys-apps/gawk
    - pkg: sys-apps/grep
    - pkg: sys-apps/groff
    - pkg: sys-apps/less
    - pkg: sys-apps/sed
    - pkg: sys-apps/shadow
    - pkg: sys-apps/util-linux
    - pkg: sys-apps/which

    - pkg: sys-devel/automake:1.16
    - pkg: sys-devel/autoconf:2.69
    - pkg: sys-devel/autoconf:latest
    - pkg: sys-devel/libtool:2
    - pkg: sys-devel/gettext
    - pkg: sys-devel/gnuconfig
    - pkg: sys-devel/m4
    - pkg: sys-devel/make
    - pkg: sys-devel/patch

    - pkg: sys-libs/libcap
    - pkg: sys-libs/libcap-ng
    - pkg: sys-libs/ncurses
    - pkg: sys-libs/readline
    - pkg: sys-libs/zlib

    - pkg: virtual/acl
    - pkg: virtual/awk
    - pkg: virtual/libc
    - pkg: virtual/libiconv
    - pkg: virtual/libintl
    - pkg: virtual/shadow
    - pkg: virtual/tmpfiles
